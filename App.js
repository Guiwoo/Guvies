import React, { useState } from "react";
import AppLoading from "expo-app-loading";
import * as Font from "expo-font";
import { Ionicons } from "@expo/vector-icons";
import { Image, StatusBar } from "react-native";
import { Asset } from "expo-asset";
import { NavigationContainer } from "@react-navigation/native";
import Stack from "./navigation/Stack";
import * as SplashScreen from "expo-splash-screen";

const cacheImages = (images) =>
  images.map((image) => {
    if (typeof image === "string") {
      return Image.prefetch(image);
    } else {
      return Asset.fromModule(image).downloadAsync();
    }
  });

const cacheFonts = (fonts) => fonts.map((font) => Font.loadAsync(font));

export default function App() {
  const [isReady, setIsReady] = useState(false);
  const loadAssets = async () => {
    const images = cacheImages([
      "data:image/jpeg;base64,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",
      require("./assets/splash.png"),
    ]);
    const fonts = cacheFonts([Ionicons.font]);
    return Promise.all([...images, ...fonts]);
  };
  const onFinish = () => setIsReady(true);
  return isReady ? (
    <>
      <NavigationContainer>
        <Stack />
      </NavigationContainer>
      <StatusBar barStyle="light-content" />
    </>
  ) : (
    <AppLoading
      startAsync={loadAssets}
      onFinish={onFinish}
      onError={console.error}
    />
  );
}
